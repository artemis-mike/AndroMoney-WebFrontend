{# Shared menu partial for switching between Table and Graph view #}
<ul class="nav nav-tabs mb-4 d-flex">
  <li class="nav-item">
    <a class="nav-link {% if active == 'table' %}active{% endif %}" aria-current="page"
       href="/?file={{ filename }}{% if page %}&page={{ page }}{% endif %}{% if per_page %}&per_page={{ per_page }}{% endif %}{% if start_date %}&start_date={{ start_date }}{% endif %}{% if end_date %}&end_date={{ end_date }}{% endif %}{% for col in selected_columns %}&columns={{ col }}{% endfor %}">
      Table View
    </a>
  </li>
  <li class="nav-item">
    <a class="nav-link {% if active == 'graph' %}active{% endif %}"
       href="/graph?file={{ filename }}{% if start_date %}&start_date={{ start_date }}{% endif %}{% if end_date %}&end_date={{ end_date }}{% endif %}{% for col in selected_columns %}&columns={{ col }}{% endfor %}">
      Graph View
    </a>
  </li>
  <li class="nav-item ms-auto">
    <a class="nav-link gear-menu-item {% if active == 'files' %}active{% endif %}"
       href="/files" title="File Management">
      <span class="gear-icon">⚙️</span>
      <span class="gear-text">File Management</span>
    </a>
  </li>
</ul>

<style>
.gear-menu-item {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  min-width: 40px;
}

.gear-icon {
  display: inline-block;
  transition: transform 0.3s ease;
}

.gear-text {
  position: absolute;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  white-space: nowrap;
  opacity: 0;
  transition: all 0.3s ease;
  margin-left: 8px;
  font-size: 0.9em;
}

.gear-menu-item:hover {
  min-width: 200px;
}

.gear-menu-item:hover .gear-icon {
  transform: rotate(90deg);
}

.gear-menu-item:hover .gear-text {
  left: 40px;
  opacity: 1;
}
</style>
